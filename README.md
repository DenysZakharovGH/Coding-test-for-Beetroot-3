Here is the solution of test task.
with kind of 
- Functionality (working code)
- Readability (pretty code)
- Modularity (portable code)
- Testability (testable code)
